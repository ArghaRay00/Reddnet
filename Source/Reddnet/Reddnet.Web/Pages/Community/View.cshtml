@page "{name}"
@model Reddnet.Web.Pages.Community.ViewModel
@{
    ViewData["Title"] = Model.Name;
}

<partial name="/Pages/Shared/_PostList.cshtml" model="Model.Community.Posts" />

<div class="sidebar flex col m-y-block-2">
    <div class="box outline round p-a-1 m-y-block-2 flex col">
        <h1 class="font big">
            About Community
        </h1>
        <p>
            @Model.Community.Description
        </p>
        <p>
            Created @Model.Community.Created.LocalDateTime.ToShortDateString()
        </p>
        <a class="btn primary outline" asp-page="/Post/Create">
            Create Post
        </a>
        @if (User.GetUserId() == Model.Community.UserId)
        {
            <hr class="hr" />
            <div class="flex row m-x-block-1">
                <a class="btn warning light stretch" asp-page="/Community/Edit" asp-route-name="@Model.Name">
                    Edit
                </a>
                <a class="btn danger light stretch" asp-page="/Community/Delete" asp-route-name="@Model.Name">
                    Delete
                </a>
            </div>
        }
    </div>
    <div>
        <partial name="/Pages/Shared/_About.cshtml" />
    </div>
</div>

